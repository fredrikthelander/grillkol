<app-admin *ngIf="auth.userlevel >= 4"></app-admin>

<div class="dx-card p20 m20">

    <div class="rubrik">Sammanställning</div>

    <app-project-selector (selectedProjectChanged)="projectChanged($event)"></app-project-selector>

    <div *ngIf="project">

        <div class="tdiv">
            <table *ngIf="orders | sammanst : project as sammanst">
                <tr>
                    <td>Total försäljning</td>
                    <td>{{sammanst.total | number : '1.0-0' : 'sv_SE' }} kr</td>
                </tr>
                <tr>
                    <td>Antal ordrar</td>
                    <td>{{sammanst.count | number : '1.0-0' : 'sv_SE' }} st</td>
                </tr>
                <tr>
                    <td>Frakt</td>
                    <td>{{sammanst.deliveryFee | number : '1.0-0' : 'sv_SE' }} kr</td>
                </tr>
                <tr *ngIf="project.serviceRate">
                    <td>Serviceavgift</td>
                    <td>{{sammanst.serviceFee | number : '1.0-0' : 'sv_SE' }} kr</td>                
                </tr>
                <tr *ngIf="project.catalogs">
                    <td>Porto kataloger</td>
                    <td>{{sammanst.portoFee | number : '1.0-0' : 'sv_SE' }} kr</td>                
                </tr>
                <tr>
                    <td class="f">Er förtjänst</td>
                    <td class="f">{{(sammanst.earnings > 0 ? sammanst.earnings : 0) | number : '1.0-0' : 'sv_SE' }} kr</td>                
                </tr>
            </table>
        </div>

        <div class="pallets" *ngIf="orders | sammanst : project as sammanst">
            <div>Er beställning upptar just nu <span *ngIf="sammanst.pallets <= 1">1</span><span *ngIf="sammanst.pallets > 1">{{ sammanst.pallets }}</span> pallar. När ni kommer över 3 pallar bjuder vi på frakten!</div>
        </div>


    </div>


</div>
